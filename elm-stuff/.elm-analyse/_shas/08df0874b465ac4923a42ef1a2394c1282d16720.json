{"moduleDefinition":{"range":[1,1,5,6],"value":{"type":"normal","normal":{"moduleName":{"range":[1,8,1,25],"value":["Playground","Shader"]},"exposingList":{"range":[1,26,5,6],"value":{"type":"explicit","explicit":[{"range":[2,7,2,15],"value":{"type":"function","function":{"name":"vertNone"}}},{"range":[2,17,2,25],"value":{"type":"function","function":{"name":"vertRect"}}},{"range":[2,27,2,36],"value":{"type":"function","function":{"name":"vertImage"}}},{"range":[2,38,2,48],"value":{"type":"function","function":{"name":"vertSprite"}}},{"range":[2,50,2,58],"value":{"type":"function","function":{"name":"vertTile"}}},{"range":[2,60,2,72],"value":{"type":"function","function":{"name":"vertTriangle"}}},{"range":[3,7,3,15],"value":{"type":"function","function":{"name":"fragFill"}}},{"range":[3,17,3,27],"value":{"type":"function","function":{"name":"fragCircle"}}},{"range":[3,29,3,37],"value":{"type":"function","function":{"name":"fragNgon"}}},{"range":[3,39,3,48],"value":{"type":"function","function":{"name":"fragImage"}}},{"range":[3,50,3,64],"value":{"type":"function","function":{"name":"fragImageColor"}}},{"range":[4,7,4,11],"value":{"type":"function","function":{"name":"mesh"}}},{"range":[4,13,4,25],"value":{"type":"function","function":{"name":"meshTriangle"}}}]}}}}},"imports":[{"range":[26,1,26,42],"value":{"moduleName":{"range":[26,8,26,20],"value":["Math","Vector2"]},"moduleAlias":null,"exposingList":{"range":[26,21,26,42],"value":{"type":"explicit","explicit":[{"range":[26,31,26,35],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Vec2"}}},{"range":[26,37,26,41],"value":{"type":"function","function":{"name":"vec2"}}}]}}}},{"range":[27,1,27,36],"value":{"moduleName":{"range":[27,8,27,20],"value":["Math","Vector4"]},"moduleAlias":null,"exposingList":{"range":[27,21,27,36],"value":{"type":"explicit","explicit":[{"range":[27,31,27,35],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Vec4"}}}]}}}},{"range":[28,1,28,37],"value":{"moduleName":{"range":[28,8,28,13],"value":["WebGL"]},"moduleAlias":null,"exposingList":{"range":[28,14,28,37],"value":{"type":"explicit","explicit":[{"range":[28,24,28,28],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Mesh"}}},{"range":[28,30,28,36],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Shader"}}}]}}}},{"range":[29,1,29,40],"value":{"moduleName":{"range":[29,8,29,21],"value":["WebGL","Texture"]},"moduleAlias":null,"exposingList":{"range":[29,22,29,40],"value":{"type":"explicit","explicit":[{"range":[29,32,29,39],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Texture"}}}]}}}}],"declarations":[{"range":[33,1,55,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[33,1,33,114],"value":{"name":{"range":[33,1,33,13],"value":"vertTriangle"},"typeAnnotation":{"range":[33,16,33,114],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,16,33,22],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[33,23,33,40],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[33,25,33,26],"value":"a"},"values":{"range":[33,28,33,39],"value":[{"range":[33,29,33,39],"value":{"name":{"range":[33,29,33,30],"value":"i"},"typeAnnotation":{"range":[33,33,33,38],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,33,33,38],"value":{"moduleName":[],"name":"Float"}},"args":[]}}}}}]}}}},{"range":[33,41,33,111],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[33,43,33,44],"value":"b"},"values":{"range":[33,46,33,110],"value":[{"range":[33,47,33,56],"value":{"name":{"range":[33,47,33,49],"value":"uP"},"typeAnnotation":{"range":[33,52,33,56],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,52,33,56],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[33,58,33,67],"value":{"name":{"range":[33,58,33,60],"value":"uT"},"typeAnnotation":{"range":[33,63,33,67],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,63,33,67],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}},{"range":[33,69,33,81],"value":{"name":{"range":[33,69,33,74],"value":"vert0"},"typeAnnotation":{"range":[33,77,33,81],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,77,33,81],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[33,83,33,95],"value":{"name":{"range":[33,83,33,88],"value":"vert1"},"typeAnnotation":{"range":[33,91,33,95],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,91,33,95],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[33,97,33,110],"value":{"name":{"range":[33,97,33,102],"value":"vert2"},"typeAnnotation":{"range":[33,105,33,109],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,105,33,109],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[33,112,33,114],"value":{"type":"record","record":{"value":[]}}}]}}}}},"declaration":{"range":[34,1,55,9],"value":{"name":{"range":[34,1,34,13],"value":"vertTriangle"},"arguments":[],"expression":{"range":[36,5,55,9],"value":{"type":"glsl","glsl":"\n    precision mediump float;\n    attribute float i;\n    uniform vec2 vert0;\n    uniform vec2 vert1;\n    uniform vec2 vert2;\n    uniform vec4 uT;\n    uniform vec2 uP;\n    void main () {\n     vec2 aP;\n     if (i == 0.) {\n        aP = vert0;\n     } else if (i == 1.) {\n        aP = vert1;\n     } else if (i == 2.) {\n        aP = vert2;\n     }\n     gl_Position = vec4(aP * mat2(uT) + uP, 0., 1.0);\n    }\n    "}}}}}}},{"range":[63,1,78,13],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[63,1,63,93],"value":{"name":{"range":[63,1,63,11],"value":"vertSprite"},"typeAnnotation":{"range":[63,14,63,93],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,14,63,20],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[63,21,63,38],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[63,23,63,24],"value":"a"},"values":{"range":[63,26,63,37],"value":[{"range":[63,27,63,37],"value":{"name":{"range":[63,27,63,29],"value":"aP"},"typeAnnotation":{"range":[63,32,63,36],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,32,63,36],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[63,39,63,79],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[63,41,63,42],"value":"b"},"values":{"range":[63,44,63,78],"value":[{"range":[63,45,63,54],"value":{"name":{"range":[63,45,63,47],"value":"uP"},"typeAnnotation":{"range":[63,50,63,54],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,50,63,54],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[63,56,63,65],"value":{"name":{"range":[63,56,63,58],"value":"uT"},"typeAnnotation":{"range":[63,61,63,65],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,61,63,65],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}},{"range":[63,67,63,78],"value":{"name":{"range":[63,67,63,70],"value":"uUV"},"typeAnnotation":{"range":[63,73,63,77],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,73,63,77],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[63,80,63,93],"value":{"type":"record","record":{"value":[{"range":[63,82,63,91],"value":{"name":{"range":[63,82,63,84],"value":"uv"},"typeAnnotation":{"range":[63,87,63,91],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,87,63,91],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[64,1,78,13],"value":{"name":{"range":[64,1,64,11],"value":"vertSprite"},"arguments":[],"expression":{"range":[65,5,78,13],"value":{"type":"glsl","glsl":"\n            precision mediump float;\n            attribute vec2 aP;\n            uniform vec4 uT;\n            uniform vec2 uP;\n            varying vec2 uv;\n            uniform vec4 uUV;\n            vec2 edgeFix = vec2(0.0000001, -0.0000001);\n            void main () {\n                vec2 aP_ = aP * .5 + 0.5;\n                uv = uUV.xy + (aP_ * uUV.zw) + edgeFix;\n                gl_Position = vec4(aP * mat2(uT) + uP, 0., 1.0);\n            }\n        "}}}}}}},{"range":[82,1,95,13],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[82,1,82,80],"value":{"name":{"range":[82,1,82,10],"value":"vertImage"},"typeAnnotation":{"range":[82,13,82,80],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[82,13,82,19],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[82,20,82,37],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[82,22,82,23],"value":"a"},"values":{"range":[82,25,82,36],"value":[{"range":[82,26,82,36],"value":{"name":{"range":[82,26,82,28],"value":"aP"},"typeAnnotation":{"range":[82,31,82,35],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[82,31,82,35],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[82,38,82,66],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[82,40,82,41],"value":"b"},"values":{"range":[82,43,82,65],"value":[{"range":[82,44,82,53],"value":{"name":{"range":[82,44,82,46],"value":"uP"},"typeAnnotation":{"range":[82,49,82,53],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[82,49,82,53],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[82,55,82,65],"value":{"name":{"range":[82,55,82,57],"value":"uT"},"typeAnnotation":{"range":[82,60,82,64],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[82,60,82,64],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[82,67,82,80],"value":{"type":"record","record":{"value":[{"range":[82,69,82,78],"value":{"name":{"range":[82,69,82,71],"value":"uv"},"typeAnnotation":{"range":[82,74,82,78],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[82,74,82,78],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[83,1,95,13],"value":{"name":{"range":[83,1,83,10],"value":"vertImage"},"arguments":[],"expression":{"range":[84,5,95,13],"value":{"type":"glsl","glsl":"\n            precision mediump float;\n            attribute vec2 aP;\n            uniform vec4 uT;\n            uniform vec2 uP;\n            varying vec2 uv;\n            vec2 edgeFix = vec2(0.0000001, -0.0000001);\n            void main () {\n                uv = aP * .5 + 0.5 + edgeFix;\n                gl_Position = vec4(aP * mat2(uT) + uP, 0., 1.0);\n            }\n        "}}}}}}},{"range":[99,1,109,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[99,1,99,68],"value":{"name":{"range":[99,1,99,9],"value":"vertNone"},"typeAnnotation":{"range":[99,12,99,68],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[99,12,99,18],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[99,19,99,36],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[99,21,99,22],"value":"a"},"values":{"range":[99,24,99,35],"value":[{"range":[99,25,99,35],"value":{"name":{"range":[99,25,99,27],"value":"aP"},"typeAnnotation":{"range":[99,30,99,34],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[99,30,99,34],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[99,37,99,65],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[99,39,99,40],"value":"b"},"values":{"range":[99,42,99,64],"value":[{"range":[99,43,99,52],"value":{"name":{"range":[99,43,99,45],"value":"uP"},"typeAnnotation":{"range":[99,48,99,52],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[99,48,99,52],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[99,54,99,64],"value":{"name":{"range":[99,54,99,56],"value":"uT"},"typeAnnotation":{"range":[99,59,99,63],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[99,59,99,63],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[99,66,99,68],"value":{"type":"record","record":{"value":[]}}}]}}}}},"declaration":{"range":[100,1,109,9],"value":{"name":{"range":[100,1,100,9],"value":"vertNone"},"arguments":[],"expression":{"range":[101,5,109,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        attribute vec2 aP;\n        uniform vec4 uT;\n        uniform vec2 uP;\n        void main () {\n            gl_Position = vec4(aP * mat2(uT) + uP, 0., 1.0);\n        }\n    "}}}}}}},{"range":[113,1,126,13],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[113,1,113,79],"value":{"name":{"range":[113,1,113,9],"value":"vertRect"},"typeAnnotation":{"range":[113,12,113,79],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[113,12,113,18],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[113,19,113,36],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[113,21,113,22],"value":"a"},"values":{"range":[113,24,113,35],"value":[{"range":[113,25,113,35],"value":{"name":{"range":[113,25,113,27],"value":"aP"},"typeAnnotation":{"range":[113,30,113,34],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[113,30,113,34],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[113,37,113,65],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[113,39,113,40],"value":"b"},"values":{"range":[113,42,113,64],"value":[{"range":[113,43,113,52],"value":{"name":{"range":[113,43,113,45],"value":"uP"},"typeAnnotation":{"range":[113,48,113,52],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[113,48,113,52],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[113,54,113,64],"value":{"name":{"range":[113,54,113,56],"value":"uT"},"typeAnnotation":{"range":[113,59,113,63],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[113,59,113,63],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[113,66,113,79],"value":{"type":"record","record":{"value":[{"range":[113,68,113,77],"value":{"name":{"range":[113,68,113,70],"value":"uv"},"typeAnnotation":{"range":[113,73,113,77],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[113,73,113,77],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[114,1,126,13],"value":{"name":{"range":[114,1,114,9],"value":"vertRect"},"arguments":[],"expression":{"range":[115,5,126,13],"value":{"type":"glsl","glsl":"\n            precision mediump float;\n            attribute vec2 aP;\n            uniform vec4 uT;\n            uniform vec2 uP;\n            varying vec2 uv;\n            vec2 edgeFix = vec2(0.0000001, -0.0000001);\n            void main () {\n                uv = aP + edgeFix;\n                gl_Position = vec4(aP * mat2(uT) + uP, 0., 1.0);\n            }\n        "}}}}}}},{"range":[130,1,159,13],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[130,1,139,22],"value":{"name":{"range":[130,1,130,9],"value":"vertTile"},"typeAnnotation":{"range":[131,5,139,22],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[131,5,131,11],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[131,12,131,29],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[131,14,131,15],"value":"a"},"values":{"range":[131,17,131,28],"value":[{"range":[131,18,131,28],"value":{"name":{"range":[131,18,131,20],"value":"aP"},"typeAnnotation":{"range":[131,23,131,27],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[131,23,131,27],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[132,9,138,10],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[132,11,132,12],"value":"b"},"values":{"range":[133,14,138,9],"value":[{"range":[133,15,134,13],"value":{"name":{"range":[133,15,133,23],"value":"uImgSize"},"typeAnnotation":{"range":[133,26,133,30],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[133,26,133,30],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[134,15,135,13],"value":{"name":{"range":[134,15,134,20],"value":"index"},"typeAnnotation":{"range":[134,23,134,28],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[134,23,134,28],"value":{"moduleName":[],"name":"Float"}},"args":[]}}}}},{"range":[135,15,136,13],"value":{"name":{"range":[135,15,135,25],"value":"spriteSize"},"typeAnnotation":{"range":[135,28,135,32],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[135,28,135,32],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[136,15,137,13],"value":{"name":{"range":[136,15,136,17],"value":"uP"},"typeAnnotation":{"range":[136,20,136,24],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[136,20,136,24],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[137,15,138,9],"value":{"name":{"range":[137,15,137,17],"value":"uT"},"typeAnnotation":{"range":[137,20,137,24],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[137,20,137,24],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[139,9,139,22],"value":{"type":"record","record":{"value":[{"range":[139,11,139,20],"value":{"name":{"range":[139,11,139,13],"value":"uv"},"typeAnnotation":{"range":[139,16,139,20],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[139,16,139,20],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[140,1,159,13],"value":{"name":{"range":[140,1,140,9],"value":"vertTile"},"arguments":[],"expression":{"range":[141,5,159,13],"value":{"type":"glsl","glsl":"\n            precision mediump float;\n            attribute vec2 aP;\n            uniform vec4 uT;\n            uniform vec2 uP;\n            uniform float index;\n            uniform vec2 spriteSize;\n            uniform vec2 uImgSize;\n            varying vec2 uv;\n            vec2 edgeFix = vec2(0.0000001, -0.0000001);\n            void main () {\n                vec2 ratio = spriteSize / uImgSize;\n                float row = (uImgSize.y / spriteSize.y - 1.0) - floor((index + 0.5) * ratio.x);\n                float column = floor(mod((index + 0.5), uImgSize.x / spriteSize.x));\n                vec2 offset = vec2(column, row) * ratio;\n                uv = (aP * 0.5 + 0.5) * ratio + offset + edgeFix;\n                gl_Position = vec4(aP * mat2(uT) + uP, 0.0, 1.0);\n            }\n        "}}}}}}},{"range":[167,1,181,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[167,1,167,87],"value":{"name":{"range":[167,1,167,10],"value":"fragImage"},"typeAnnotation":{"range":[167,13,167,87],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[167,13,167,19],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[167,20,167,21],"value":{"type":"generic","generic":{"value":"a"}}},{"range":[167,22,167,73],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[167,24,167,25],"value":"b"},"values":{"range":[167,27,167,72],"value":[{"range":[167,28,167,42],"value":{"name":{"range":[167,28,167,32],"value":"uImg"},"typeAnnotation":{"range":[167,35,167,42],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[167,35,167,42],"value":{"moduleName":[],"name":"Texture"}},"args":[]}}}}},{"range":[167,44,167,59],"value":{"name":{"range":[167,44,167,52],"value":"uImgSize"},"typeAnnotation":{"range":[167,55,167,59],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[167,55,167,59],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}},{"range":[167,61,167,72],"value":{"name":{"range":[167,61,167,63],"value":"uA"},"typeAnnotation":{"range":[167,66,167,71],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[167,66,167,71],"value":{"moduleName":[],"name":"Float"}},"args":[]}}}}}]}}}},{"range":[167,74,167,87],"value":{"type":"record","record":{"value":[{"range":[167,76,167,85],"value":{"name":{"range":[167,76,167,78],"value":"uv"},"typeAnnotation":{"range":[167,81,167,85],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[167,81,167,85],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[168,1,181,9],"value":{"name":{"range":[168,1,168,10],"value":"fragImage"},"arguments":[],"expression":{"range":[170,5,181,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        varying vec2 uv;\n        uniform vec2 uImgSize;\n        uniform sampler2D uImg;\n        uniform float uA;\n        void main () {\n            vec2 pixel = (floor(uv * uImgSize) + 0.5) / uImgSize;\n            gl_FragColor = texture2D(uImg, pixel);\n            gl_FragColor.a *= uA;\n        }\n    "}}}}}}},{"range":[185,1,197,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[185,1,185,94],"value":{"name":{"range":[185,1,185,15],"value":"fragImageColor"},"typeAnnotation":{"range":[185,18,185,94],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[185,18,185,24],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[185,25,185,26],"value":{"type":"generic","generic":{"value":"a"}}},{"range":[185,27,185,80],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[185,29,185,30],"value":"b"},"values":{"range":[185,32,185,79],"value":[{"range":[185,33,185,45],"value":{"name":{"range":[185,33,185,38],"value":"color"},"typeAnnotation":{"range":[185,41,185,45],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[185,41,185,45],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}},{"range":[185,47,185,61],"value":{"name":{"range":[185,47,185,51],"value":"uImg"},"typeAnnotation":{"range":[185,54,185,61],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[185,54,185,61],"value":{"moduleName":[],"name":"Texture"}},"args":[]}}}}},{"range":[185,63,185,79],"value":{"name":{"range":[185,63,185,71],"value":"uImgSize"},"typeAnnotation":{"range":[185,74,185,78],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[185,74,185,78],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}},{"range":[185,81,185,94],"value":{"type":"record","record":{"value":[{"range":[185,83,185,92],"value":{"name":{"range":[185,83,185,85],"value":"uv"},"typeAnnotation":{"range":[185,88,185,92],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[185,88,185,92],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[186,1,197,9],"value":{"name":{"range":[186,1,186,15],"value":"fragImageColor"},"arguments":[],"expression":{"range":[187,5,197,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        varying vec2 uv;\n        uniform vec2 uImgSize;\n        uniform sampler2D uImg;\n        uniform vec4 color;\n        void main () {\n            vec2 pixel = ((floor(uv * uImgSize) + 0.5) * 2.0 ) / uImgSize / 2.0;\n            gl_FragColor = texture2D(uImg, pixel) * color;\n        }\n    "}}}}}}},{"range":[201,1,209,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[201,1,201,44],"value":{"name":{"range":[201,1,201,9],"value":"fragFill"},"typeAnnotation":{"range":[201,12,201,44],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[201,12,201,18],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[201,19,201,20],"value":{"type":"generic","generic":{"value":"a"}}},{"range":[201,21,201,41],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[201,23,201,24],"value":"b"},"values":{"range":[201,26,201,40],"value":[{"range":[201,27,201,40],"value":{"name":{"range":[201,27,201,32],"value":"color"},"typeAnnotation":{"range":[201,35,201,39],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[201,35,201,39],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[201,42,201,44],"value":{"type":"record","record":{"value":[]}}}]}}}}},"declaration":{"range":[202,1,209,9],"value":{"name":{"range":[202,1,202,9],"value":"fragFill"},"arguments":[],"expression":{"range":[203,5,209,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        uniform vec4 color;\n        void main () {\n            gl_FragColor = color;\n        }\n    "}}}}}}},{"range":[213,1,223,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[213,1,213,57],"value":{"name":{"range":[213,1,213,11],"value":"fragCircle"},"typeAnnotation":{"range":[213,14,213,57],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[213,14,213,20],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[213,21,213,22],"value":{"type":"generic","generic":{"value":"a"}}},{"range":[213,23,213,43],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[213,25,213,26],"value":"b"},"values":{"range":[213,28,213,42],"value":[{"range":[213,29,213,42],"value":{"name":{"range":[213,29,213,34],"value":"color"},"typeAnnotation":{"range":[213,37,213,41],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[213,37,213,41],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}}]}}}},{"range":[213,44,213,57],"value":{"type":"record","record":{"value":[{"range":[213,46,213,55],"value":{"name":{"range":[213,46,213,48],"value":"uv"},"typeAnnotation":{"range":[213,51,213,55],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[213,51,213,55],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[214,1,223,9],"value":{"name":{"range":[214,1,214,11],"value":"fragCircle"},"arguments":[],"expression":{"range":[215,5,223,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        uniform vec4 color;\n        varying vec2 uv;\n        void main () {\n            gl_FragColor = color;\n            gl_FragColor.a *= smoothstep(0.01,0.04,1.-length(uv));\n        }\n    "}}}}}}},{"range":[227,1,244,9],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[227,1,227,66],"value":{"name":{"range":[227,1,227,9],"value":"fragNgon"},"typeAnnotation":{"range":[227,12,227,66],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[227,12,227,18],"value":{"moduleName":[],"name":"Shader"}},"args":[{"range":[227,19,227,20],"value":{"type":"generic","generic":{"value":"a"}}},{"range":[227,21,227,52],"value":{"type":"genericRecord","genericRecord":{"name":{"range":[227,23,227,24],"value":"b"},"values":{"range":[227,26,227,51],"value":[{"range":[227,27,227,39],"value":{"name":{"range":[227,27,227,32],"value":"color"},"typeAnnotation":{"range":[227,35,227,39],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[227,35,227,39],"value":{"moduleName":[],"name":"Vec4"}},"args":[]}}}}},{"range":[227,41,227,51],"value":{"name":{"range":[227,41,227,42],"value":"n"},"typeAnnotation":{"range":[227,45,227,50],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[227,45,227,50],"value":{"moduleName":[],"name":"Float"}},"args":[]}}}}}]}}}},{"range":[227,53,227,66],"value":{"type":"record","record":{"value":[{"range":[227,55,227,64],"value":{"name":{"range":[227,55,227,57],"value":"uv"},"typeAnnotation":{"range":[227,60,227,64],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[227,60,227,64],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[228,1,244,9],"value":{"name":{"range":[228,1,228,9],"value":"fragNgon"},"arguments":[],"expression":{"range":[231,5,244,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        uniform vec4 color;\n        uniform float n;\n        varying vec2 uv;\n        void main () {\n            float angle = 3.1415926535897932384626433832795 / n * 3.0;\n            float a = atan(uv.x,uv.y) + angle;\n            float b = 6.28319 / n;\n            float f = smoothstep(0.5,.5,cos(floor(.5 + a/b)*b-a)*length(uv));\n            gl_FragColor = color;\n            gl_FragColor.a -= f;\n        }\n    "}}}}}}},{"range":[252,1,258,10],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[252,1,252,40],"value":{"name":{"range":[252,1,252,13],"value":"meshTriangle"},"typeAnnotation":{"range":[252,16,252,40],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[252,16,252,26],"value":{"moduleName":["WebGL"],"name":"Mesh"}},"args":[{"range":[252,27,252,40],"value":{"type":"record","record":{"value":[{"range":[252,29,252,38],"value":{"name":{"range":[252,29,252,30],"value":"i"},"typeAnnotation":{"range":[252,33,252,38],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[252,33,252,38],"value":{"moduleName":[],"name":"Float"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[253,1,258,10],"value":{"name":{"range":[253,1,253,13],"value":"meshTriangle"},"arguments":[],"expression":{"range":[254,5,258,10],"value":{"type":"application","application":[{"range":[254,5,254,24],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["WebGL"],"name":"triangleStrip"}}},{"range":[255,9,258,10],"value":{"type":"list","list":[{"range":[255,11,255,20],"value":{"type":"record","record":[{"range":[255,13,255,18],"value":{"field":{"range":[255,13,255,14],"value":"i"},"expression":{"range":[255,17,255,18],"value":{"type":"integer","integer":0}}}}]}},{"range":[256,11,256,20],"value":{"type":"record","record":[{"range":[256,13,256,18],"value":{"field":{"range":[256,13,256,14],"value":"i"},"expression":{"range":[256,17,256,18],"value":{"type":"integer","integer":1}}}}]}},{"range":[257,11,257,20],"value":{"type":"record","record":[{"range":[257,13,257,18],"value":{"field":{"range":[257,13,257,14],"value":"i"},"expression":{"range":[257,17,257,18],"value":{"type":"integer","integer":2}}}}]}}]}}]}}}}}}},{"range":[262,1,269,10],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[262,1,262,26],"value":{"name":{"range":[262,1,262,5],"value":"mesh"},"typeAnnotation":{"range":[262,8,262,26],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[262,8,262,12],"value":{"moduleName":[],"name":"Mesh"}},"args":[{"range":[262,13,262,26],"value":{"type":"record","record":{"value":[{"range":[262,15,262,24],"value":{"name":{"range":[262,15,262,17],"value":"aP"},"typeAnnotation":{"range":[262,20,262,24],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[262,20,262,24],"value":{"moduleName":[],"name":"Vec2"}},"args":[]}}}}}]}}}]}}}}},"declaration":{"range":[263,1,269,10],"value":{"name":{"range":[263,1,263,5],"value":"mesh"},"arguments":[],"expression":{"range":[264,5,269,10],"value":{"type":"application","application":[{"range":[264,5,264,24],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["WebGL"],"name":"triangleStrip"}}},{"range":[265,9,269,10],"value":{"type":"list","list":[{"range":[265,11,265,30],"value":{"type":"record","record":[{"range":[265,13,265,28],"value":{"field":{"range":[265,13,265,15],"value":"aP"},"expression":{"range":[265,18,265,28],"value":{"type":"application","application":[{"range":[265,18,265,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"vec2"}}},{"range":[265,23,265,25],"value":{"type":"negation","negation":{"range":[265,24,265,25],"value":{"type":"integer","integer":1}}}},{"range":[265,26,265,28],"value":{"type":"negation","negation":{"range":[265,27,265,28],"value":{"type":"integer","integer":1}}}}]}}}}]}},{"range":[266,11,266,29],"value":{"type":"record","record":[{"range":[266,13,266,27],"value":{"field":{"range":[266,13,266,15],"value":"aP"},"expression":{"range":[266,18,266,27],"value":{"type":"application","application":[{"range":[266,18,266,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"vec2"}}},{"range":[266,23,266,25],"value":{"type":"negation","negation":{"range":[266,24,266,25],"value":{"type":"integer","integer":1}}}},{"range":[266,26,266,27],"value":{"type":"integer","integer":1}}]}}}}]}},{"range":[267,11,267,29],"value":{"type":"record","record":[{"range":[267,13,267,27],"value":{"field":{"range":[267,13,267,15],"value":"aP"},"expression":{"range":[267,18,267,27],"value":{"type":"application","application":[{"range":[267,18,267,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"vec2"}}},{"range":[267,23,267,24],"value":{"type":"integer","integer":1}},{"range":[267,25,267,27],"value":{"type":"negation","negation":{"range":[267,26,267,27],"value":{"type":"integer","integer":1}}}}]}}}}]}},{"range":[268,11,268,28],"value":{"type":"record","record":[{"range":[268,13,268,26],"value":{"field":{"range":[268,13,268,15],"value":"aP"},"expression":{"range":[268,18,268,26],"value":{"type":"application","application":[{"range":[268,18,268,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"vec2"}}},{"range":[268,23,268,24],"value":{"type":"integer","integer":1}},{"range":[268,25,268,26],"value":{"type":"integer","integer":1}}]}}}}]}}]}}]}}}}}}},{"range":[276,1,297,9],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[276,1,297,9],"value":{"name":{"range":[276,1,276,20],"value":"fragImageSaturation"},"arguments":[],"expression":{"range":[282,5,297,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        varying vec2 uv;\n        uniform sampler2D uImg;\n        uniform float adjustment;\n        vec3 saturation(vec3 rgb, float adj) {\n            // Algorithm from Chapter 16 of OpenGL Shading Language\n            const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n            vec3 intensity = vec3(dot(rgb, W));\n            return mix(intensity, rgb, adj);\n        }\n        void main () {\n            gl_FragColor = texture2D(uImg, uv);\n            gl_FragColor.xyz=saturation(gl_FragColor.xyz, adjustment);\n        }\n    "}}}}}}},{"range":[300,1,315,9],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[300,1,315,9],"value":{"name":{"range":[300,1,300,10],"value":"rotSprite"},"arguments":[],"expression":{"range":[304,5,315,9],"value":{"type":"glsl","glsl":"\n        precision mediump float;\n        varying vec2 uv;\n        uniform vec2 uImgSize;\n        uniform sampler2D uImg;\n\n        void main () {\n            vec2 pixel = (floor(uv * uImgSize) + 0.5) / uImgSize;\n            gl_FragColor = texture2D(uImg, pixel);\n\n        }\n    "}}}}}}},{"range":[320,1,329,7],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[320,1,329,7],"value":{"name":{"range":[320,1,320,6],"value":"sepia"},"arguments":[],"expression":{"range":[321,5,329,7],"value":{"type":"glsl","glsl":"\n  vec4 sepia(vec4 color) {\n      vec3 sepiaColor = vec3(112, 66, 20) / 255.0;\n     return vec4(\n         mix(color.rgb, sepiaColor, 0.4),\n         color.a\n     );\n  }\n  "}}}}}}},{"range":[332,1,351,9],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[332,1,351,9],"value":{"name":{"range":[332,1,332,4],"value":"hue"},"arguments":[],"expression":{"range":[334,5,351,9],"value":{"type":"glsl","glsl":"\nvec3 czm_hue(vec3 rgb, float adjustment)\n{\n    const mat3 toYIQ = mat3(0.299,     0.587,     0.114,\n                            0.595716, -0.274453, -0.321263,\n                            0.211456, -0.522591,  0.311135);\n    const mat3 toRGB = mat3(1.0,  0.9563,  0.6210,\n                            1.0, -0.2721, -0.6474,\n                            1.0, -1.107,   1.7046);\n\n    vec3 yiq = toYIQ * rgb;\n    float hue = atan(yiq.z, yiq.y) + adjustment;\n    float chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\n\n    vec3 color = vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\n    return toRGB * color;\n}\n    "}}}}}}},{"range":[354,1,355,54],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[354,1,355,54],"value":{"name":{"range":[354,1,354,5],"value":"snow"},"arguments":[],"expression":{"range":[355,5,355,54],"value":{"type":"literal","literal":"https://www.patreon.com/posts/tutorial-23614114"}}}}}}}],"comments":[{"range":[333,5,333,108],"value":"--https://github.com/AnalyticalGraphicsInc/cesium/blob/master/Source/Shaders/Builtin/Functions/hue.glsl"},{"range":[318,1,319,3],"value":"{-| FILTERS !!! <https://dev.to/lesnitsky/webgl-month-day-9-uImg-filters-5g8e>\n-}"},{"range":[303,5,303,88],"value":"--https://github.com/libretro/glsl-shaders/blob/master/scalenx/shaders/scale2x.glsl"},{"range":[302,5,302,75],"value":"--https://en.wikipedia.org/wiki/Pixel-art_scaling_algorithms#RotSprite"},{"range":[301,5,301,130],"value":"--https://discover.therookies.co/2019/08/13/unity-masterclass-how-to-set-up-your-project-for-pixel-perfect-retro-8-bit-games/"},{"range":[281,5,281,10],"value":"-- */"},{"range":[280,5,280,57],"value":"-- * vec3 doubleSaturation = saturation(color, 2.0);"},{"range":[279,5,279,50],"value":"-- * vec3 greyScale = saturation(color, 0.0);"},{"range":[278,5,278,18],"value":"-- * @example"},{"range":[277,5,277,115],"value":"--https://github.com/AnalyticalGraphicsInc/cesium/blob/master/Source/Shaders/Builtin/Functions/saturation.glsl"},{"range":[273,1,273,26],"value":"---FUTURE DEVELOPMENT ---"},{"range":[261,1,261,7],"value":"{-| -}"},{"range":[251,1,251,7],"value":"{-| -}"},{"range":[248,1,248,10],"value":"---MESHES"},{"range":[230,5,230,51],"value":"--https://thndl.com/square-shaped-shaders.html"},{"range":[229,5,229,39],"value":"--https://thebookofshaders.com/07/"},{"range":[226,1,226,7],"value":"{-| -}"},{"range":[212,1,212,7],"value":"{-| -}"},{"range":[200,1,200,7],"value":"{-| -}"},{"range":[184,1,184,7],"value":"{-| -}"},{"range":[169,5,169,41],"value":"--(2i + 1)/(2N) Pixel perfect center"},{"range":[166,1,166,7],"value":"{-| -}"},{"range":[163,1,163,19],"value":"--Fragment Shaders"},{"range":[129,1,129,7],"value":"{-| -}"},{"range":[112,1,112,7],"value":"{-| -}"},{"range":[98,1,98,7],"value":"{-| -}"},{"range":[81,1,81,7],"value":"{-| -}"},{"range":[62,1,62,7],"value":"{-| -}"},{"range":[59,1,59,18],"value":"-- Vertex Shaders"},{"range":[35,5,35,73],"value":"--http://in2gpu.com/2014/11/24/creating-a-triangle-in-opengl-shader/"},{"range":[32,1,32,7],"value":"{-| -}"},{"range":[7,1,24,3],"value":"{-|\n\n\n# Vertex Shaders\n\n@docs vertNone, vertRect, vertImage, vertSprite, vertTile, vertTriangle\n\n\n# Fragment Shaders\n\n@docs fragFill, fragCircle, fragNgon, fragImage, fragImageColor\n\n\n# Mesh\n\n@docs mesh, meshTriangle\n\n-}"}]}